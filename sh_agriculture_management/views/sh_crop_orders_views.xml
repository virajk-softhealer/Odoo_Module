<?xml version="1.0" encoding="utf-8"?>
<odoo>


    <!-- ========= Kanban View =============-->

    <record id="sh_crop_orders_kanban_view" model="ir.ui.view">
        <field name="name">sh.crop.orders.kanban</field>
        <field name="model">sh.crop.orders</field>
        <field name="arch" type="xml">
            <kanban create="false" default_group_by="sh_state" sample="1">
                <field name="sh_state" />
                <templates>
                    <t t-name="kanban-box">
                        <div
                            t-attf-class="{{!selection_mode ? 'oe_kanban_color_' oe_kanban_card oe_kanban_global_click oe_semantic_html_override">
                            <div class="o_dropdown_kanban dropdown">

                                <a role="button" class="dropdown-toggle o-no-caret btn"
                                    data-bs-toggle="dropdown" data-bs-display="static" href="#"
                                    aria-label="Dropdown menu" title="Dropdown menu">
                                    <span class="fa fa-ellipsis-v" />
                                </a>
                                <div class="dropdown-menu" role="menu">
                                    <t t-if="widget.editable">
                                        <a role="menuitem" type="edit" class="dropdown-item">Edit...</a>
                                    </t>
                                    <t t-if="widget.deletable">
                                        <a role="menuitem" type="delete" class="dropdown-item">
                                            Delete</a>
                                    </t>
                                    <ul class="oe_kanban_colorpicker" data-field="color" />
                                </div>
                            </div>
                            <div class="oe_kanban_content" tooltip="kanban-tooltip">
                                <div class="o_kanban_record_top">
                                    <b class="o_kanban_record_title">
                                        <h3>
                                            <field name="name" />
                                        </h3>
                                    </b>
                                </div>
                                <div class="o_kanban_record_body">

                                    <span class="oe_grey">
                                        <b> Name : </b>
                                        <field name="partner_id" />
                                        <br />
                                    </span>
                                    <span class="oe_grey">
                                        <b>Crop : </b>
                                        <field name="sh_agriculture_crops_id" />
                                        <br />
                                    </span>
                                    <span class="oe_grey">
                                        <b> Quantity : </b>
                                        <field name="sh_estimated_quantity" class="oe_inline" />
                                        <field name="uom_id" />
                                        <br />
                                    </span>
                                    <span class="oe_grey">
                                        <b>farmer : </b>
                                        <field name="farmer_id" />
                                        <br />
                                    </span>

                                </div>
                                <div class="o_kanban_record_bottom">
                                    <div class="oe_kanban_bottom_left">
                                    </div>
                                    <div class="oe_kanban_bottom_right">
                                        <field name="user_id" widget="many2one_avatar_user" />
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>


    <!-- ========= Pivot View =============-->

    <record id="sh_crop_orders_pivot_view" model="ir.ui.view">
        <field name="name">sh.crop.orders.pivot</field>
        <field name="model">sh.crop.orders</field>
        <field name="arch" type="xml">
            <pivot string="maintenance Request" sample="1">
                <field name="farmer_id" />
                <field name="sh_state" />
                <field name="sh_estimated_quantity" />
                <field name="sh_agriculture_crops_id" />
                <field name="partner_id" />
                <field name="process_start" />
                <field name="expected_delivery" />
                <field name="user_id" />
                <field name="company_id" />
            </pivot>
        </field>
    </record>


    <!-- ========= Graph View =============-->
    <record id="sh_crop_orders_graph_view" model="ir.ui.view">
        <field name="name">sh.crop.orders.graph</field>
        <field name="model">sh.crop.orders</field>
        <field name="arch" type="xml">
            <graph string="maintenance Request" sample="1">
                <field name="farmer_id" />
                <field name="sh_state" />
            </graph>
        </field>
    </record>

    <!-- ========= Calendar View =============-->

    <record id="sh_crop_orders_calendar_view" model="ir.ui.view">
        <field name="name">sh.crop.orders.calendar</field>
        <field name="model">sh.crop.orders</field>
        <field name="arch" type="xml">
            <calendar date_start="process_start" color="sh_state">
                <field name="sh_state" filters="1" />
                <field name="name" />
            </calendar>
        </field>
    </record>


    <!-- ========= Form View =============-->

    <record id='sh_crop_orders_form_view' model='ir.ui.view'>
        <field name="name">sh.crop.orders.form</field>
        <field name="model">sh.crop.orders</field>
        <field name="arch" type="xml">
            <form string="Crop Orders">

                <header>
                    <!-- <button name="action_cancel" string="Cancel"
                        type="object"
                        attrs="{'invisible': ['|',('sh_state', '=', 'confirmed'),('sh_state', '=', 'in_progress')]}" /> -->
                    <button name="action_confirm" string="Confirm" class="oe_highlight"
                        type="object"
                        attrs="{'invisible': ['|','|',('sh_state', '=', 'confirmed'),('sh_state', '=', 'in_progress'),('sh_state', '=', 'done')]}" />
                    <button name="action_in_progress" string="In Progress" class="oe_highlight"
                        type="object"
                        attrs="{'invisible': ['|','|',('sh_state', '=', 'new'),('sh_state', '=', 'in_progress'),('sh_state', '=', 'done')]}" />
                    <button name="action_done" string="Done" type="object" class="oe_highlight"
                        attrs="{'invisible': ['|','|',('sh_state', '=', 'new'),('sh_state', '=', 'confirmed'),('sh_state', '=', 'done')]}" />
                    <field name="sh_state" widget="statusbar" />
                </header>


                <sheet>
                    <div name="button_box" position="inside"
                        attrs="{'invisible': [('sh_state', '=', 'new')]}">
                        <button class="oe_stat_button"
                            name="action_view_labours"
                            type="object"
                            attrs="{'invisible': [('sh_state', '=', 'confirmed')]}">
                            <div class="o_field_widget o_stat_info">
                                <span class="o_stat_value">
                                    <field name="labours_count" widget="statinfo"
                                        nolabel="1" class="mr4" />
                                </span>
                                <span class="o_stat_text">Labours</span>
                            </div>
                            <div class="o_field_widget o_stat_info"
                                style="border-left: 1px solid black">
                                <span class="o_stat_value">
                                    <field name="total_days_count" widget="statinfo"
                                        nolabel="1" class="mr4" />
                                </span>
                                <span class="o_stat_text">Days</span>
                            </div>
                        </button>
                        <button class="oe_stat_button"
                            name="action_view_task"
                            icon="fa-tasks"
                            type="object"
                            attrs="{'invisible': [('sh_state', '=', 'confirmed')]}">
                            <div class="o_field_widget o_stat_info">
                                <span class="o_stat_value">
                                    <field name="task_count" widget="statinfo"
                                        nolabel="1" class="mr4" />
                                </span>
                                <span class="o_stat_text">Tasks</span>
                            </div>
                        </button>

                        <button class="oe_stat_button"
                            name="action_view_equipments"
                            icon="fa-gear"
                            type="object">
                            <div class="o_field_widget o_stat_info">
                                <span class="o_stat_value">
                                    <field name="equipments_count" widget="statinfo" nolabel="1"
                                        class="mr4" />
                                </span>
                                <span class="o_stat_text">Equipments</span>
                            </div>
                        </button>

                        <button class="oe_stat_button"
                            name="action_view_animal"
                            icon="fa-edit"
                            type="object">
                            <div class="o_field_widget o_stat_info">
                                <span class="o_stat_value">
                                    <field name="animal_count" widget="statinfo" nolabel="1"
                                        class="mr4" />
                                </span>
                                <span class="o_stat_text">Animals</span>
                            </div>
                        </button>

                        <button class="oe_stat_button"
                            name="action_view_dieases"
                            icon="fa-bug"
                            type="object">
                            <div class="o_field_widget o_stat_info">
                                <span class="o_stat_value">
                                    <field name="dieases_count" widget="statinfo" nolabel="1"
                                        class="mr4" />
                                </span>
                                <span class="o_stat_text">Dieases</span>
                            </div>
                        </button>

                        <button class="oe_stat_button"
                            name="action_view_fleet"
                            icon="fa-truck"
                            type="object">
                            <div class="o_field_widget o_stat_info">
                                <span class="o_stat_value">
                                    <field name="fleet_count" widget="statinfo" nolabel="1"
                                        class="mr4" />
                                </span>
                                <span class="o_stat_text">Fleets</span>
                            </div>
                        </button>

                        <button class="oe_stat_button"
                            name="action_view_project"
                            icon="fa-tasks"
                            type="object"
                            attrs="{'invisible': [('sh_state', '=', 'confirmed')]}">
                            <div class="o_field_widget o_stat_info">
                                <span class="o_stat_value">
                                    <field name="project_count" widget="statinfo" nolabel="1"
                                        class="mr4" />
                                </span>
                                <span class="o_stat_text">Projects</span>
                            </div>
                        </button>
                    </div>

                    <div class="oe_title">
                        <h1>
                            <field name="name" readonly="1" />
                        </h1>
                        <!-- <label for="sh_agriculture_crops_id" string="Agriculture Crop" /> -->
                        <!-- <field name="sh_agriculture_crops_id" />
                        <div class="o_row" name="sh_estimated_quantity">
                            <label for="sh_estimated_quantity" string="Estimated Quantity" />
                            <field name="sh_estimated_quantity" class="oe_inline" />
                            <field name="uom_id" />
                            <label for="sh_actual_qty" string="Actual Quantity" />
                            <field name="sh_actual_qty" class="oe_inline" />
                            <field name="uom_id" class="oe_inline"/>
                        </div> -->


                    </div>
                    <group>
                        <group>
                            <field name="sh_agriculture_crops_id" options="{'no_create': True}"/>
                            <label for="sh_estimated_quantity" string="Estimated Quantity" />
                            <div class="o_row" name="sh_estimated_quantity">
                                <field name="sh_estimated_quantity" class="oe_inline" />
                                <field name="uom_id" />
                            </div>
                            <field name="partner_id" />
                            <field name="expected_delivery" />
                            <field name="process_start" />
                            <field name="farmer_id" context="{ 'default_farmer': True}" options="{'no_create': True}"/>
                        </group>
                        <group>
                            <field name="sale_order_id" readonly="1" />
                            <label for="sh_actual_qty" string="Actual Quantity" />
                            <div class="o_row" name="sh_estimated_quantity">
                                <field name="sh_actual_qty" class="oe_inline" />
                                <field name="uom_id" class="oe_inline" />
                            </div>
                            <field name="user_id" />
                            <field name="actual_delivery" />
                            <field name="company_id" />
                            <field name="project_id" />
                        </group>
                    </group>
                    <notebook>
                        <page name="notes" string="Order's Notes">
                            <group>
                                <field name="order_note" />
                            </group>
                        </page>
                        <page name="description" string="Order's Description">
                            <group>
                                <field name="order_description" />
                            </group>
                        </page>
                        <page name="loss_reason" string="Loss Reason"
                            attrs="{'invisible': [('sh_state', '!=', 'done')]}">
                            <form string="Loss Reason">
                                <group>
                                    <group>
                                        <field name="sh_disease_crops_id" string="Disease Crops" />
                                        <field name="sh_incident_crops_id" string=" Incident Crops" />
                                    </group>
                                    <group>
                                        <label for="disease_loss_crop"
                                            string="Disease Loss Quantity" />
                                        <div class="o_row" name="disease_loss_crop">
                                            <field name="disease_loss_crop" class="oe_inline" />
                                            <field name="loss_uom_id" />
                                        </div>
                                        <label for="incident_loss_crop"
                                            string="Incident Loss Quantity" />
                                        <div class="o_row" name="incident_loss_crop">
                                            <field name="incident_loss_crop" class="oe_inline" />
                                            <field name="loss_uom_id" />
                                        </div>
                                        <!-- <field name="disease_loss_crop" />
                                        <field name="incident_loss_crop" /> -->
                                    </group>

                                </group>
                                <notebook>
                                    <page string="Description">
                                        <field name="sh_description" readonly="1" />
                                    </page>
                                </notebook>
                            </form>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" groups="base.group_user" />
                    <field name="message_ids" />
                </div>
            </form>
        </field>
    </record>

    <!-- ========= Tree View =============-->


    <record id="sh_crop_orders_tree_view" model="ir.ui.view">
        <field name="name">sh.crop.orders.tree</field>
        <field name="model">sh.crop.orders</field>
        <field name="arch" type="xml">
            <tree create="0">
                <field name="name" />
                <field name="partner_id" />
                <field name="sh_agriculture_crops_id" />
                <field name="process_start" />
                <field name="expected_delivery" />
                <field name="user_id" />
                <field name="farmer_id" />
                <field name="company_id" />
                <field name="sh_state" />
            </tree>
        </field>
    </record>

    <record id="sh_crop_orders_action" model="ir.actions.act_window">
        <field name="name">Crop Orders</field>
        <field name="res_model">sh.crop.orders</field>
        <field name="type">ir.actions.act_window</field>
        <field name="view_mode">kanban,pivot,graph,calendar,tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Click here to create new Crop Order.
            </p>
        </field>
    </record>
</odoo>